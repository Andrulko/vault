{% set menuItems = [
    {
        icon: 'times-circle',
        message: 'remove_from_relay'|trans,
        path: removeFromRelay.path,
        action: 'click->alert#confirm',
        alertMessage: removeFromRelay.message
    },
    {
        icon: 'redo',
        message: 'renew_password'|trans,
        path: resetPasswordPath,
    }
] %}

<button class="btn btn-blue text-white py-0"
        data-dropdown-menu-target="button"
        data-action="click->dropdown-menu#toggle"
>
    <i class="fas fa-ellipsis-h"></i>
</button>
<div class="position-relative d-none"
     data-dropdown-menu-target="menu"
        {% if app.user.subjectMembre.countManageableRelays(beneficiary) == 1 %}
            {{ stimulus_controller('alert', {
                'confirmButtonText': 'accept'|trans,
                'cancelButtonText': 'cancel'|trans,
                'cancelButtonCustomClass': 'btn btn-outline-black me-1',
                'confirmButtonCustomClass': 'btn btn-red text-white ms-1',
            }) }}
        {% endif %}
>
    <ul class="action-dropdown shadow border-1 position-absolute z-1 bg-white list-group font-size-1 mt-2 end-0"
        style="width: 240px">
        {% for menuItem in menuItems %}
            <li class="list-group-item hover p-0 border-0 my-1 d-grid gap-2">
                <a href="{{ menuItem.path }}"
                   class="btn p-0 text-primary text-start ps-3"
                   data-action="{{ menuItem.action ?? '' }}"
                   data-alert-message-value="{{ menuItem.alertMessage ?? '' }}"
                   data-alert-href-value="{{ menuItem.path }}">
                    <i class="fas fa-{{ menuItem.icon }} pe-2"></i>{{ menuItem.message }}
                </a>
            </li>
        {% endfor %}
    </ul>
</div>
